"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@remix-run/react"),a=require("react-router-dom");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=l(e);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}function c(e){let{value:t}=e,[a,l]=r.default.useState(t),c=r.default.useRef(t);t!==c.current&&(c.current=t,l(t));return r.default.createElement("select",n({},e,{value:a,onChange:e=>{l(e.target.value)}}))}function u(e){let{checked:t}=e,[a,l]=r.default.useState(t),c=r.default.useRef(t);t!==c.current&&(c.current=t,l(t));return r.default.createElement("input",n({},e,{type:"checkbox",checked:a,onChange:e=>{l(e.target.checked)}}))}exports.default=function(){let e=t.useRouteData(),l=new URLSearchParams(a.useLocation().search),n=l.get("gender"),s=new Set(l.getAll("brand")),o=function(e,t=100){let[a,l]=r.default.useState(e);return r.default.useEffect((()=>{let a=setTimeout((()=>{l(e)}),t);return()=>clearTimeout(a)}),[e]),a}(t.usePendingLocation()),d=r.default.useRef(null);return function(){let e=a.useLocation();r.default.useEffect((()=>{window.scrollTo(0,0)}),[e])}(),r.default.createElement("div",{className:"flex"},r.default.createElement("div",null,r.default.createElement(t.Form,{onChange:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.click()},className:"w-60 p-6 min-h-screen sticky overscroll-none top-0 overflow-y-auto"},r.default.createElement("label",{htmlFor:"gender",className:"text-sm block font-bold text-gray-500"},"Gender:"),r.default.createElement(c,{name:"gender",id:"gender",value:n||void 0,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 border rounded-md"},r.default.createElement("option",{value:""},"Any"),e.genders.map((e=>r.default.createElement("option",{key:e,value:e},e.charAt(0).toUpperCase()+e.slice(1))))),r.default.createElement("div",{className:"mt-6"},r.default.createElement("div",{className:"text-sm block font-bold text-gray-500"},"Brand:"),r.default.createElement("div",{className:"mt-1"},e.brands.map((e=>r.default.createElement("label",{key:e,className:"block py-0.5"},r.default.createElement(u,{type:"checkbox",name:"brand",value:e,id:e,checked:s.has(e)}),r.default.createElement("span",{className:"ml-3 capitalize text-black"},e)))))),r.default.createElement("div",null,r.default.createElement("button",{ref:d,type:"submit",className:"hidden"},"Apply")))),r.default.createElement("div",{className:"relative p-8"},r.default.createElement("div",{className:"mb-2 text-lg font-bold"},"Showing ",e.results.items.length," of ",e.results.count," results"),r.default.createElement("div",{className:"grid grid-cols-3 gap-24"},e.results.items.map((e=>r.default.createElement("div",{key:e._id},r.default.createElement("div",{className:"flex flex-col text-center"},r.default.createElement("img",{src:e.imgUrl,className:"object-contain h-64"}),r.default.createElement("h2",{className:"text-gray-900 mt-2 font-medium text-lg"},e.name),r.default.createElement(t.Form,{className:"text-gray-600"},"$",e.estimatedMarketValue," ",r.default.createElement("button",{className:"underline"},"add to cart"))))))),r.default.createElement("div",{className:o?"absolute inset-0 bg-white bg-opacity-75 transition":"hidden"},r.default.createElement("svg",{className:o?"animate-spin w-1/4 sticky top-1/4 mx-auto text-gray-700":"hidden",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 4v5h-.582m0 0a8.001 8.001 0 00-15.356 2m15.356-2H15M4 20v-5h.581m0 0a8.003 8.003 0 0015.357-2M4.581 15H9"})))))},exports.headers=function(){return{"cache-control":"max-age=30"}},exports.meta=function(){return{title:"Nikes | Remix + Architect on AWS",description:"Demo app showing off Remix and Architect"}};
